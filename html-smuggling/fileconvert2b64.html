<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>JS</title>
</head>

<body>
    <h2>file convert to base64</h2>
    <input id="file" type="file" />

    <br>
    <br>
    <button id="button">Evaluate</button>
    <a href="#">Copy</a>

    <script>
        document.getElementById('button').addEventListener('click', function() {
            var files = document.getElementById('file').files;
            if (files.length > 0) {
                getBase64(files[0]);
            }
        });

        function copyText(textToCopy) {
            this.copied = false
            const textarea = document.createElement('textarea')
            textarea.value = textToCopy
            textarea.setAttribute('readonly', '');
            textarea.style.position = 'absolute';
            textarea.style.left = '-9999px';
            document.body.appendChild(textarea);
            textarea.select()

            try {
                var successful = document.execCommand('copy');
                this.copied = true
            } catch (err) {
                this.copied = false
            }

            textarea.remove()
        }

        function getBase64(file) {
            var reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = function() {
                console.log(reader.result);
                copyText(reader.result);

            };
            reader.onerror = function(error) {
                console.log('Error: ', error);
            };
        }
    </script>
</body>

</html>
